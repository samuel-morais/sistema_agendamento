{% extends "base.html" %}
{% block title %}Histórico do Paciente{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="card shadow-sm border-0 rounded-4">
    <div class="card-header bg-primary text-white rounded-top-4">
      <h3 class="mb-0 fw-semibold">
        <i class="bi bi-clock-history me-2"></i> Histórico de {{ paciente.nome }}
      </h3>
    </div>

    <div class="card-body p-4">
      <table class="table table-hover align-middle">
        <thead class="table-dark">
          <tr>
            <th>Data/Hora</th>
            <th>Médico</th>
            <th>Status</th>
            <th>Duração (min)</th>
          </tr>
        </thead>
        <tbody>
          {% for c in consultas %}
          <tr>
            <td>{{ c.data_hora|date:"d/m/Y H:i" }}</td>
            <td>{{ c.medico.user.get_full_name }}</td>
            <td>{{ c.get_status_display }}</td>
            <td>{{ c.duracao_minutos }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4" class="text-center text-muted">Nenhuma consulta registrada.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<style>
.table-dark th {
  background-color: #0d6efd;
  color: white;
}
.table-hover tbody tr:hover {
  background-color: rgba(13, 110, 253, 0.08);
}
</style>
{% endblock %}
